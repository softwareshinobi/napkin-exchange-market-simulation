the take profit operations aren't cancelling the stop loss

the cost basis needs to be added for the stock owned by the logged in user

the market buy fufillment notication should tell you the price that you purchased at
